# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹ PPTist Backend çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ã€‚

---

## ğŸ¤ å¦‚ä½•è´¡çŒ®

### æŠ¥å‘Š Bug

è¯·é€šè¿‡ GitHub Issues æŠ¥å‘Š bugï¼Œå¹¶æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **é—®é¢˜æè¿°**: æ¸…æ™°ç®€æ´åœ°æè¿°é—®é¢˜
2. **å¤ç°æ­¥éª¤**: è¯¦ç»†çš„é‡ç°æ­¥éª¤
3. **é¢„æœŸè¡Œä¸º**: æœŸæœ›çš„æ­£ç¡®è¡Œä¸º
4. **å®é™…è¡Œä¸º**: å®é™…è§‚å¯Ÿåˆ°çš„è¡Œä¸º
5. **ç¯å¢ƒä¿¡æ¯**:
   - æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬
   - Node.js ç‰ˆæœ¬
   - npm ç‰ˆæœ¬
6. **æ—¥å¿—/æˆªå›¾**: ç›¸å…³çš„é”™è¯¯æ—¥å¿—æˆ–æˆªå›¾

### æäº¤åŠŸèƒ½è¯·æ±‚

1. å…ˆè®¨è®ºå¤§åŠŸèƒ½å»ºè®®ï¼ˆé€šè¿‡ Issue æˆ– Discussionï¼‰
2. ç¡®è®¤åŠŸèƒ½éœ€æ±‚å’ŒæŠ€æœ¯å¯è¡Œæ€§
3. ç­‰å¾…ç»´æŠ¤è€…æ‰¹å‡†åå¼€å§‹å¼€å‘

---

## ğŸ“‹ å¼€å‘æµç¨‹

### 1. Fork å’Œå…‹éš†

```bash
# Fork é¡¹ç›®
git clone https://github.com/yourusername/PPTist.git
cd PPTist/backend

# æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/yourusername/PPTist.git
```

### 2. åˆ›å»ºåˆ†æ”¯

```bash
# åŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature-name

# ä¿®å¤åˆ†æ”¯
git checkout -b fix/bug-description

# æ–‡æ¡£åˆ†æ”¯
git checkout -b docs/update-readme
```

### 3. å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å®‰è£…ä¾èµ–
npm install

# æ„å»º
npm run build

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
npm run dev

# è¿è¡Œæµ‹è¯•
npm test
```

### 4. ä»£ç è§„èŒƒ

#### ä»£ç é£æ ¼

- ä½¿ç”¨ **TypeScript** ç¼–å†™ä»£ç 
- éµå¾ª **ESLint** è§„åˆ™
- ä½¿ç”¨ **Prettier** æ ¼å¼åŒ–
- ç¼–å†™ **JSDoc** æ³¨é‡Š

#### ä»£ç æ£€æŸ¥

```bash
# ç±»å‹æ£€æŸ¥
npm run typecheck

# ä»£ç æ£€æŸ¥
npm run lint

# è‡ªåŠ¨ä¿®å¤
npm run lint:fix

# æ ¼å¼åŒ–
npm run format
```

### 5. æäº¤æ›´æ”¹

```bash
# æŸ¥çœ‹æ›´æ”¹
git status
git diff

# æ·»åŠ æ›´æ”¹
git add .

# æäº¤ï¼ˆä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯ï¼‰
git commit -m "feat: add support for chart conversion"
```

#### æäº¤ä¿¡æ¯è§„èŒƒ

éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/):

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
refactor: é‡æ„ä»£ç 
test: æ·»åŠ æˆ–æ›´æ–°æµ‹è¯•
chore: æ„å»º/å·¥å…·é“¾æ›´æ–°
perf: æ€§èƒ½ä¼˜åŒ–
```

ç¤ºä¾‹:
```
feat: add support for SmartArt conversion
fix: handle corrupted PPTX files
docs: update API documentation
test: add unit tests for parser
```

### 6. åŒæ­¥æ›´æ”¹

```bash
# æ‹‰å–ä¸Šæ¸¸æ›´æ”¹
git fetch upstream
git rebase upstream/main

# æ¨é€åˆ°ä½ çš„ fork
git push origin feature/your-feature-name
```

### 7. åˆ›å»º Pull Request

1. è®¿é—® GitHub ä»“åº“
2. ç‚¹å‡» "New Pull Request"
3. æä¾›æ¸…æ™°çš„ PR æè¿°
4. ç­‰å¾…ä»£ç å®¡æŸ¥

---

## ğŸ“ PR å®¡æŸ¥æ¸…å•

åœ¨æäº¤ PR å‰ï¼Œè¯·ç¡®ä¿ï¼š

### ä»£ç è´¨é‡
- [ ] ä»£ç é€šè¿‡ TypeScript ç¼–è¯‘ï¼ˆ`npm run build`ï¼‰
- [ ] ä»£ç é€šè¿‡ ESLint æ£€æŸ¥ï¼ˆ`npm run lint`ï¼‰
- [ ] ä»£ç é€šè¿‡ Prettier æ ¼å¼åŒ–ï¼ˆ`npm run format`ï¼‰
- [ ] æ·»åŠ äº†å¿…è¦çš„å•å…ƒæµ‹è¯•
- [ ] æµ‹è¯•é€šè¿‡ï¼ˆ`npm test`ï¼‰
- [ ] æ–‡æ¡£å·²æ›´æ–°ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰

### åŠŸèƒ½æ€§
- [ ] æ–°åŠŸèƒ½æœ‰å¯¹åº”çš„å•å…ƒæµ‹è¯•
- [ ] E2E æµ‹è¯•é€šè¿‡
- [ ] æ·»åŠ äº†é”™è¯¯å¤„ç†
- [ ] æ€§èƒ½å½±å“å¯æ¥å—

### æ–‡æ¡£
- [ ] README.md å·²æ›´æ–°ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰
- [ ] API æ–‡æ¡£å·²æ›´æ–°ï¼ˆå¦‚æœæ˜¯ API å˜æ›´ï¼‰
- [ ] CHANGELOG.md å·²æ›´æ–°ï¼ˆå¯¹äºé‡å¤§å˜æ›´ï¼‰
- [ ] æ·»åŠ äº†å¿…è¦çš„ä»£ç æ³¨é‡Š

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### å•å…ƒæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡Œç‰¹å®šæµ‹è¯•
npm run test:models
npm run test:services

# è¿è¡Œæµ‹è¯•è¦†ç›–ç‡
npm run test:coverage
```

### E2E æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰ E2E æµ‹è¯•
npm run test:e2e

# è¿è¡Œç‰¹å®š E2E æµ‹è¯•
npx vitest run tests/e2e/conversion-e2e.test.ts
```

### æµ‹è¯•æ–‡ä»¶ä½ç½®

- å•å…ƒæµ‹è¯•: `tests/unit/**/*.test.ts`
- E2E æµ‹è¯•: `tests/e2e/**/*.test.ts`
- æµ‹è¯•æ•°æ®: `tests/fixtures/`

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
backend/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ api/                # API å±‚
â”‚   â”‚   â””â”€â”€ v1/            # API v1
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ conversion/    # è½¬æ¢æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ pptx/          # PPTX å¤„ç†
â”‚   â”‚   â”œâ”€â”€ queue/         # é˜Ÿåˆ—
â”‚   â”‚   â””â”€â”€ storage/       # å­˜å‚¨
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ middleware/       # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ types/             # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ app.ts            # åº”ç”¨å…¥å£
â”œâ”€â”€ tests/                  # æµ‹è¯•
â”‚   â”œâ”€â”€ unit/              # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ e2e/               # E2E æµ‹è¯•
â”‚   â””â”€â”€ fixtures/         # æµ‹è¯•æ•°æ®
â”œâ”€â”€ docs/                   # æ–‡æ¡£
â”œâ”€â”€ scripts/                # è„šæœ¬å·¥å…·
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ Dockerfile              # Docker é…ç½®
â”œâ”€â”€ docker-compose.yml      # Docker Compose
â””â”€â”€ package.json           # é¡¹ç›®é…ç½®
```

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„è½¬æ¢å™¨

1. åœ¨ `src/services/conversion/converters/` åˆ›å»ºæ–°æ–‡ä»¶
2. ç»§æ‰¿ `BaseConverter` ç±»
3. å®ç° `convert()` æ–¹æ³•
4. åœ¨ `registry.ts` æ³¨å†Œè½¬æ¢å™¨
5. æ·»åŠ å•å…ƒæµ‹è¯•
6. æ›´æ–°æ–‡æ¡£

### æ·»åŠ æ–°çš„ API ç«¯ç‚¹

1. åœ¨ `src/api/v1/controllers/` åˆ›å»ºæ§åˆ¶å™¨
2. å®ç°æ§åˆ¶å™¨é€»è¾‘
3. åœ¨ `src/api/v1/index.ts` æ³¨å†Œè·¯ç”±
4. æ·»åŠ è¯·æ±‚éªŒè¯
5. æ·»åŠ  API æ–‡æ¡£
6. æ·»åŠ æµ‹è¯•

### æ·»åŠ æ–°çš„é˜Ÿåˆ—å®ç°

1. åœ¨ `src/services/queue/` åˆ›å»ºæ–°æ–‡ä»¶
2. å®ç° `TaskQueue` æ¥å£
3. åœ¨ `factory.ts` æ³¨å†Œé˜Ÿåˆ—ç±»å‹
4. æ·»åŠ å•å…ƒæµ‹è¯•
5. æ›´æ–°æ–‡æ¡£

---

## ğŸ“– æ–‡æ¡£è´¡çŒ®

### æ–‡æ¡£ç±»å‹

- **README.md** - é¡¹ç›®æ¦‚è¿°å’Œå¿«é€Ÿå¼€å§‹
- **API.md** - API ç«¯ç‚¹æ–‡æ¡£
- **ARCHITECTURE.md** - ç³»ç»Ÿæ¶æ„æ–‡æ¡£
- **DEPLOYMENT.md** - éƒ¨ç½²æŒ‡å—
- **CHANGELOG.md** - ç‰ˆæœ¬æ›´æ–°æ—¥å¿—

### æ–‡æ¡£è§„èŒƒ

- ä½¿ç”¨æ¸…æ™°çš„ç« èŠ‚æ ‡é¢˜
- æä¾›ä»£ç ç¤ºä¾‹
- ä¿æŒæ›´æ–°å’Œå‡†ç¡®
- ä½¿ç”¨ä¸€è‡´çš„æ ¼å¼

---

## ğŸ› é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜

**Q: è¿è¡Œæµ‹è¯•å¤±è´¥ï¼Ÿ**
```bash
# æ¸…ç†ç¼“å­˜
npm run clean

# é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules
npm install

# é‡æ–°æ„å»º
npm run build
```

**Q: Docker æ„å»ºå¤±è´¥ï¼Ÿ**
```bash
# æ¸…ç† Docker ç¼“å­˜
docker system prune -af

# é‡æ–°æ„å»º
docker build --no-cache .
```

**Q: è½¬æ¢ç»“æœä¸æ­£ç¡®ï¼Ÿ**
```bash
# æ£€æŸ¥æ—¥å¿—
docker logs pptist-backend-prod

# è¿è¡Œæµ‹è¯•
npm run test:e2e
```

---

## ğŸ¯ ä»£ç å®¡æŸ¥æ ‡å‡†

### åŠŸèƒ½æ€§

- [ ] ä»£ç å®ç°äº†éœ€æ±‚
- [ ] æ²¡æœ‰æ˜æ˜¾çš„ bug
- [ ] è¾¹ç•Œæƒ…å†µè¢«å¤„ç†
- [ ] æ€§èƒ½å½±å“å¯æ¥å—

### å¯è¯»æ€§

- [ ] å˜é‡å’Œå‡½æ•°å‘½åæ¸…æ™°
- [ ] ä»£ç é€»è¾‘å®¹æ˜“ç†è§£
- [ ] æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- [ ] é¿å…è¿‡åº¦å¤æ‚çš„åµŒå¥—

### å¯ç»´æŠ¤æ€§

- [ ] éµå¾ª DRY åŸåˆ™
- [ ] æ¨¡å—åŒ–è‰¯å¥½
- [ ] æ¥å£è®¾è®¡åˆç†
- [ ] æ˜“äºæ‰©å±•

### æµ‹è¯•

- [ ] æœ‰è¶³å¤Ÿçš„æµ‹è¯•è¦†ç›–
- [ ] æµ‹è¯•ç”¨ä¾‹æ¸…æ™°
- [ ] è¾¹ç•Œæƒ…å†µæµ‹è¯•
- [ ] æµ‹è¯•å¯é‡å¤è¿è¡Œ

---

## ğŸŒŸ ç¤¾åŒºå‡†åˆ™

### å°Šé‡å’ŒåŒ…å®¹

- ä½¿ç”¨å°Šé‡å’ŒåŒ…å®¹çš„è¯­è¨€
- æ¬¢è¿ä¸åŒèƒŒæ™¯çš„è´¡çŒ®è€…
- æ¥å—å»ºè®¾æ€§åé¦ˆ

### å»ºè®¾æ€§åé¦ˆ

- ä¸“æ³¨äºä»£ç å’ŒåŠŸèƒ½
- æä¾›å…·ä½“çš„æ”¹è¿›å»ºè®®
- ç¤ºè²Œå’Œå‹å¥½

### åä½œç²¾ç¥

- å¯»æ±‚å¸®åŠ©å‰å…ˆè‡ªè¡Œç ”ç©¶
- æ„¿æ„å¸®åŠ©ä»–äºº
- åˆ†äº«çŸ¥è¯†å’Œç»éªŒ

---

## ğŸ“œ è®¸å¯è¯

é€šè¿‡è´¡çŒ®ï¼Œæ‚¨åŒæ„æ‚¨çš„ä»£ç å°†æ ¹æ®é¡¹ç›®è®¸å¯è¯ï¼ˆMITï¼‰è¿›è¡Œè®¸å¯ã€‚

---

## ğŸ–ï¸ è£èª‰

ä¼˜ç§€çš„è´¡çŒ®è€…å°†åœ¨æ­¤åˆ—è¡¨ä¸­è¢«è‡´è°¢ã€‚

---

## ğŸ“ è”ç³»æ–¹å¼

- **Issues**: https://github.com/yourusername/PPTist/issues
- **Discussions**: https://github.com/yourusername/PPTist/discussions

---

**æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼** ğŸ‰
